(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{338:function(o,t,e){var content=e(346);"string"==typeof content&&(content=[[o.i,content,""]]),content.locals&&(o.exports=content.locals);(0,e(20).default)("f05a4318",content,!0,{sourceMap:!1})},339:function(o,t,e){o.exports=e.p+"img/btn.df4f6ae.png"},340:function(o,t,e){var content=e(348);"string"==typeof content&&(content=[[o.i,content,""]]),content.locals&&(o.exports=content.locals);(0,e(20).default)("811a1ac8",content,!0,{sourceMap:!1})},345:function(o,t,e){"use strict";var n=e(338);e.n(n).a},346:function(o,t,e){var n=e(19),r=e(135),c=e(339);t=n(!1);var l=r(c);t.push([o.i,'.container[data-v-a59f1a90]{margin:0 auto;min-height:100vh;text-align:center;padding:10px;color:#fff}.container .note[data-v-a59f1a90]{font-weight:700;color:#1dfefe}.container .btns[data-v-a59f1a90]{margin:50px}.container .btns .btn[data-v-a59f1a90]{color:#04def0;font-weight:700;font-family:"微软雅黑";padding:15px 32px;margin:0 10px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-image:url('+l+");background-size:100% 100%;cursor:pointer}.container .btns .btn[data-v-a59f1a90]:hover{color:#fff}.container .main[data-v-a59f1a90]{width:702px;background:#330a66;box-shadow:0 0 #333;border-radius:10px;border:7px solid #1dfefe;margin:10px auto;box-shadow:0 2px 12px 0 rgba(0,0,0,.1)}.container .main .items[data-v-a59f1a90]{width:100px;height:100px;position:relative;border:1px solid #1dfefe;float:left;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background:#330a66;transition:all .2s;font-size:14px;display:flex;flex-wrap:wrap;justify-content:center;align-items:center}.container .main .items .item[data-v-a59f1a90]{width:95px;height:25px;line-height:23px;margin:3px;border-radius:15px;z-index:99;color:#1eeaf0;background:#635393;border:1px solid #1dfefe}.container .main .items .focus[data-v-a59f1a90]{color:#0e025e;font-weight:700;background-color:#edcc53;border-color:#929a19}.container .main .items .gold[data-v-a59f1a90]{width:100px;height:100px;position:absolute;top:0;left:0;color:#969494;padding-top:10px;font-size:60px;font-style:italic;z-index:1;opacity:.3}.container .main .items[data-v-a59f1a90]:hover{background:#eee}.container .wrapbox[data-v-a59f1a90]{position:absolute;top:170px;right:20px;width:300px;font-size:14px;padding:12px;color:#1ceaee;word-break:break-all;border-radius:10px;border:3px solid #1dfefe;background:#1d0957;box-shadow:0 2px 12px 0 rgba(0,0,0,.1)}.container .wrapbox .tips[data-v-a59f1a90]{font-size:20px;font-weight:700;line-height:30px}.container .wrapbox .tips span[data-v-a59f1a90]{font-size:13px;font-weight:300}.container .wrapbox .list[data-v-a59f1a90]{min-width:150px;z-index:2000;width:300px;max-height:200px;line-height:1.4;text-align:justify;overflow-y:auto}.container .focusOver[data-v-a59f1a90]{top:170px;left:20px}.container .focusOver .crtPos[data-v-a59f1a90]{text-align:left;color:#fcf8a7;line-height:30px}.container .tname[data-v-a59f1a90]{display:inline-block;font-size:16px;font-weight:700;width:90px;color:#add5fd}.container .gold[data-v-a59f1a90]{font-weight:700;color:#ffeb00}.container .nodata[data-v-a59f1a90]{line-height:50px}.container .noGame[data-v-a59f1a90]{color:#fff;width:300px;margin:350px auto;padding:50px;border-radius:5px;color:#64dbf3;border:2px solid #1dfefe}",""]),o.exports=t},347:function(o,t,e){"use strict";var n=e(340);e.n(n).a},348:function(o,t,e){(t=e(19)(!1)).push([o.i,".el-checkbox__input.is-checked .el-checkbox__inner{background-color:#04def0;border-color:#04def0}.el-checkbox,.el-checkbox__input.is-checked+.el-checkbox__label{color:#04def0}.el-checkbox{line-height:30px}.el-checkbox__input.is-indeterminate .el-checkbox__inner{background-color:#04def0;border-color:#04def0}.el-page-header__content{font-size:18px;color:#04def0}.el-checkbox__label{width:90px}",""]),o.exports=t},363:function(o,t,e){"use strict";e.r(t);var n,r,c=e(63);var l={head:function(){return{title:"游戏回放 - 2020程序员节日游戏"}},data:function(){return{isClick:!1,socket:r,x:0,y:0,mainW:0,mainH:0,loopId:0,playersInfo:[],crtPos:"",crtGold:"",total:[],isFirst:!0,info:{RoundID:0}}},methods:{start:function(){for(var o=this.x,t=this.y,e=this.info.Tilemap,n=[],i=0;i<t;i++)for(var r=0;r<o;r++){var c=e[i][r],l={players:(c.Players||[]).map((function(o){return"token"==o.Name&&(o.isFocus=!0),o}))||[],pos:[r,i],gold:c.Gold};n.push(l)}this.total=n},mouseOver:function(o){this.playersInfo=o.players||[],this.crtPos=o.pos,this.crtGold=o.gold},init:function(){"undefined"!=typeof WebSocket&&((r=new WebSocket("ws://localhost:8881/ws")).onopen=this.onOpen,r.onerror=this.onError,r.onmessage=this.onMessage,r.onclose=this.close)},onOpen:function(){console.log("socket连接成功"),r.send(JSON.stringify({msgtype:0,token:"token"}))},onMessage:function(o){var t=o.data,e=JSON.parse(t);0==e.Msgtype?console.log("login ok."):1==e.Msgtype?r.send(JSON.stringify({msgtype:2,token:"token"})):3==e.Msgtype&&(n.info=n.$deepCopy(e),n.isFirst&&(n.x=e.Wid,n.y=e.Hei,n.x=e.Wid,n.mainW=100*n.x+14,n.mainH=100*n.y+14,n.isFirst=!1),n.start(),n.loopId=setTimeout((function(){if(n.isClick)clearTimeout(n.loopId);else{var o=Math.floor(Math.random()*e.Wid),t=Math.floor(Math.random()*e.Hei);r.send(JSON.stringify({msgtype:4,token:"token",x:o,y:t,RoundID:n.info.RoundID}))}}),700))},onSend:function(o){},onError:function(){console.log("socket发生了错误")},onClose:function(){r.close(),console.log("socket已经关闭,onClose")},close:function(){console.log("socket已经关闭,close")},onClick:function(o){var t=Object(c.a)(o.pos,2),e=t[0],l=t[1];console.log(e,l),n.isClick=!0,r.send(JSON.stringify({msgtype:4,token:"token",x:e,y:l,RoundID:n.info.RoundID}))}},created:function(){n=this},destroyed:function(){r.close()}},d=(e(345),e(347),e(42)),component=Object(d.a)(l,(function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("div",{staticClass:"container"},[e("span",{staticClass:"note"},[o._v(" 第 "+o._s(o.info.RoundID+1)+" 轮")]),o._v(" "),e("div",{staticClass:"btns"},[e("span",{staticClass:"btn",on:{click:function(t){return o.init()}}},[o._v(" 开始游戏 ")]),o._v(" "),e("span",{staticClass:"btn",on:{click:o.onClose}},[o._v("结束游戏")])]),o._v(" "),e("div",{staticClass:"main",style:{width:o.mainW+"px",height:o.mainH+"px"}},o._l(o.total,(function(t,i){return e("div",{key:i,staticClass:"items",on:{mouseover:function(e){return o.mouseOver(t)},click:function(e){return o.onClick(t)}}},[e("div",{staticClass:"gold"},[o._v(o._s(t.gold))]),o._v(" "),t.players?e("div",o._l(t.players,(function(t,i){return e("div",{key:i},[i<3?e("div",{staticClass:"item",class:{focus:t.isFocus}},[(t.Name+t.Gold).length>8?e("div",[e("marquee",{attrs:{scrollamount:"2"}},[o._v("\n                "+o._s(t.Name)+" - "+o._s(t.Gold)+"\n              ")])],1):e("div",[o._v(o._s(t.Name)+" - "+o._s(t.Gold))])]):o._e()])})),0):o._e()])})),0),o._v(" "),e("div",{staticClass:"wrapbox focusOver"},[e("div",{staticClass:"conta"},[e("div",{staticClass:"tips"},[o._v("棋盘格信息")]),o._v(" "),o.crtPos?e("div",{staticClass:"crtPos"},[o._v("\n        当前坐标："+o._s(o.crtPos)+" 金币数量："+o._s(o.crtGold)+"\n      ")]):e("div",{staticClass:"nodata"},[o._v("鼠标移过棋盘，展示数据")]),o._v(" "),e("div",{staticClass:"list"},o._l(o.playersInfo,(function(t,i){return e("div",{key:i},[o._v("\n          "+o._s(i+1)+"、团队："),e("span",{staticClass:"tname"},[o._v(o._s(t.Name))]),o._v("\n          金币：\n          "),e("span",{staticClass:"gold"},[o._v(o._s(t.Gold))])])})),0)])])])}),[],!1,null,"a59f1a90",null);t.default=component.exports}}]);